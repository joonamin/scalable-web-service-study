# Chapter1)<br>대규모 웹 서비스 개발 오리엔테이션
`🗓️ 2024.05.25` ` 👩🏻 황진주 ` 
> 지은이의 의도와 목적을 파악하여 얻고자 하는 전체 개요을 정의합니다

### 목차

- [Chapter1)대규모 웹 서비스 개발 오리엔테이션](#chapter1대규모-웹-서비스-개발-오리엔테이션)
    - [목차](#목차)
  - [집필 배경](#집필-배경)
    - [하테나?](#하테나)
  - [전체 개요](#전체-개요)
    - [주요 내용](#주요-내용)
    - [제외 내용](#제외-내용)
  - [하테나 서비스 규모](#하테나-서비스-규모)
  - [소규모 서비스와 대규모 서비스의 차이](#소규모-서비스와-대규모-서비스의-차이)
    - [1️⃣ 확장성 확보 및 부하 분산](#1️⃣-확장성-확보-및-부하-분산)
    - [2️⃣ 다중성 확보](#2️⃣-다중성-확보)
    - [3️⃣ 효율적 운용](#3️⃣-효율적-운용)
    - [4️⃣ 개발인원 변화](#4️⃣-개발인원-변화)
  - [대규모 데이터량에 대한 대처](#대규모-데이터량에-대한-대처)
    - [데이터 처리 과정](#데이터-처리-과정)
    - [속도 저하 시나리오](#속도-저하-시나리오)

<br>

---

<br>


## 집필 배경
> 일본의 소셜 서비스 하테나에서 진행하는 인턴십의 내용을 근간으로 한다.

### 하테나?
 - 블로그와 북마크 기능을 다방면으로 활용한 커뮤니티
 - 자유로운 블로그 커스터마이징과 독특한 키워드 검색 기능을 제공

<br><br>

## 전체 개요
 > 대규모 서비스/데이터를 다룰 경우의 필요 지식 제공

### 주요 내용
 - 대규모 웹 서비스 개발
 - 기본 사고 방식 및 요령
 - DB 운용 방법
 - 알고리즘과 데이터 구조 선택의 중요성 (+ 전체 검색 엔진 제작법)
 - 서버/인프라 시스템의 예와 개념

### 제외 내용
 - 기초 개발법
 - 코드 사용법
 - SW 사용설명 (ex. 아파치, MySQL)
 - 프로그래밍 언어 설명 및 노하우
 - 기초 알고리즘 및 데이터 구조

<br><br>


## 하테나 서비스 규모
 > 대규모 서비스는 얼마나 클까? 하테나의 사례로 알아보자

 - 등록 사용자 / 고유 사용자 (UU) : 100만 명, 1500만 명
 - 월 액세스 : 수십억
 - 최대 트래픽  : 430Mbps
 - 서버 : 500대 이상
 - 일일 엑세스 로그 : GB 단위
 - DB 데이터 규모 : GB ~ TB 단위

**➡ 문제 상황** : 
1) 각 서버의 역할 파악의 어려움
2) 호스트 정보 파악의 어려움

```
 * 페이스북과 같은 초대규모 서버는 TB~PB 수준의 데이터를 처리함
``` 
<br>

---

<br>

## 소규모 서비스와 대규모 서비스의 차이
> 대규모 서비스로 전환되며 아래 4가지 요소가 고려되어야 한다.

<br>

### 1️⃣ 확장성 확보 및 부하 분산
 > 여러 대의 서버 도입으로 인한 스케일 아웃/ 스케일 업

그로 인한 의문점
1) 사용자의 요청은 어떻게 분배하지?
2) 데이터는 어떻게 동기화 되지?
3) 네트워크 지연 시간은 어떻게 대응하지?

\* 하드웨어의 성능과 가격은 비례하지 않음을 주의
\* 저가 HW로 서버 대수를 증가할 것인가?(스케일 아웃)
\* HW 성능을 올릴 것인가?(스케일 업)

<br>

### 2️⃣ 다중성 확보
> 특정 서버가 가용 불가하더라도 서비스는 돌아야한다.

관련 사례
```
911 테러 당시 야후에 사람들이 일제히 접속하며 야후 서버가 다운되었다.
이러한 상황이 더욱 사회적 충격을 안겨주었다.
```
➡ CDN에 컨텐츠를 캐싱해 트래픽 우회로 복구

<br>

### 3️⃣ 효율적 운용
 > 각 서버가 어떤 역할을 하는지? 정상적인지 판단해야 한다.

고려 사항
 1) 어떤 서버가 무슨 역할을 하지?
 2) 각 서버는 어떤 상황에 처해있지?
 3) 부하는 어떻게 처리되고 있지?
 4) 디스크 용량은 충분한지?
 5) 보안 설정의 미흡한 점은 없는지?

<br>

### 4️⃣ 개발인원 변화
 > 기술자가 역할을 분담하며 표준화의 고민이 생긴다

고민 사항
 1) 개발 표준화는 어떻게 할 것인가?
 2) 프로그래밍 언어는 어떤 것을?
 3) 라이브러리와 프레임워크는 어떤 것을?
 4) 코딩 규약은?
 5) 코드 버전 관리는?

<br>

---

<br>

## 대규모 데이터량에 대한 대처
> 그래서 대규모 데이터는 어떻게 처리하지?

### 데이터 처리 과정
 1) 하드의 데이터 로드
 2) 메모리의 저장
 3) 캐시 경유
 4) CPU의 패치

```
하드디스크에 비해 10^6 ~ 10^9배의 속도차를 보이는 캐시메모리의 속도 차를 극복하기 위해 OS는 캐싱 전략을 이용한다.
하지만 이에도 한계가 존재한다.
```

### 속도 저하 시나리오
1) 데이터량이 많아지며 잦은 ***캐시미스** 발생
2) 많은 디스크 I/O 발생
3) 대기열에 들어선 리소스 증가로 전체 속도 저하

`*캐시미스` : 현재의 경우에는 접근하는 데이터의 양이 캐시의 사이즈를 넘어가는 상황

